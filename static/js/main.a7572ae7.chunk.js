(this["webpackJsonpmovies-app-react"]=this["webpackJsonpmovies-app-react"]||[]).push([[0],{1361:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),s=c(24),i=c.n(s),o=(c(33),c(13)),r=c(6),l=c(7),d=c.n(l),u=c(25),b=c(4),j=function(e){var t,c=e.setSearchTrailerId,a=e.setButtonPopup,n=e.id,s=e.title,i=e.poster_path,o=e.overview,r=e.vote_average,l=e.release_date;return Object(b.jsx)("div",{className:"movie",children:Object(b.jsxs)("div",{className:"movieHeader",children:[Object(b.jsx)(u.VideocamSharp,{className:"getTrailer",color:"#00000",height:"50px",width:"50px",onClick:function(){c(n),a(!0)}}),Object(b.jsx)("span",{className:"releaseDate",children:l}),Object(b.jsx)("img",{src:i?"https://image.tmdb.org/t/p/w1280"+i:"https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1459&q=80",alt:"title",placeholder:l}),Object(b.jsxs)("div",{className:"movieInfo",children:[Object(b.jsx)("h3",{children:s}),Object(b.jsx)("span",{className:"tag ".concat((t=r,t>=8?"green":t>=6?"orange":"red")),children:r})]}),Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"movieOver",children:[Object(b.jsx)("h2",{children:"Overview:"}),Object(b.jsx)("p",{children:o})]})})]})})};var h=function(e){return e.trigger?Object(b.jsx)("div",{className:"videoPopup",children:Object(b.jsxs)("div",{className:"videoPopupInner",children:[Object(b.jsx)("button",{className:"videoPopupCloseBtn",onClick:function(){e.setButtonPopup(!1)},children:Object(b.jsx)("strong",{children:" X "})}),e.children]})}):""};var p=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=14dc73a4bd1abf7c14d4209c112b4496&page="),i=Object(r.a)(s,2),l=i[0],u=i[1],p=Object(a.useState)(""),m=Object(r.a)(p,2),f=m[0],O=m[1],g=Object(a.useState)(""),v=Object(r.a)(g,2),x=v[0],w=v[1],y=Object(a.useState)(""),N=Object(r.a)(y,2),k=N[0],S=N[1],C=Object(a.useState)(!1),_=Object(r.a)(C,2),P=_[0],T=_[1],E=Object(a.useState)(1),B=Object(r.a)(E,2),I=B[0],U=B[1],A=Object(a.useState)(1),D=Object(r.a)(A,2),M=D[0],F=D[1],G=Object(a.useState)(!0),H=Object(r.a)(G,2),R=H[0],V=H[1],q=window.innerWidth,J=Object(a.useState)(),W=Object(r.a)(J,2),X=W[0],L=W[1],Y=function(){d.a.get(l+I).then((function(e){n(e.data.results),0===e.data.results.length&&z()})).catch((function(e){alert(e.message)})),window.scrollTo(0,0)};Object(a.useEffect)((function(){Y()}),[l,I]),Object(a.useEffect)((function(){f&&function(e){d.a.get("https://api.themoviedb.org/3/search/movie?&api_key=14dc73a4bd1abf7c14d4209c112b4496&query="+e+"&page="+M).then((function(e){n(e.data.results),0===e.data.results.length&&z()})).catch((function(e){alert(e.message)})),window.scrollTo(0,0)}(f)}),[f,M]);var z=function(){f?f&&F((function(e){return e>1?e-1:e=1})):U((function(e){return e>1?e-1:e=1})),window.scrollTo(0,0)};return Object(a.useEffect)((function(){q>=850&&V(!0),q<850&&V(!1)}),[q]),Object(a.useEffect)((function(){d.a.patch("https://shrouded-lowlands-25573.herokuapp.com/counter").then((function(e){})).catch((function(e){console.log("Error: ",e.message)})),d.a.get("https://shrouded-lowlands-25573.herokuapp.com/counter").then((function(e){L(e.data.visitor_count)})).catch((function(e){console.log("Error: ",e.message)}))}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("header",{children:[Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault()},className:"navForm",children:[Object(b.jsxs)("div",{onClick:function(){V(!0),setTimeout((function(){V(!1)}),4e3)},id:"burger",className:"burger",children:[Object(b.jsx)("div",{className:"bar"}),Object(b.jsx)("div",{className:"bar"}),Object(b.jsx)("div",{className:"bar"})]}),Object(b.jsxs)("ul",{style:R?{display:"flex"}:{display:"none"},className:"navItems",children:[Object(b.jsx)("li",{onClick:function(){U(1),u("https://api.themoviedb.org/3/movie/popular?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Y(),O("")},children:"Popular"}),Object(b.jsx)("li",{onClick:function(){U(1),u("https://api.themoviedb.org/3/movie/top_rated?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Y(),O("")},children:"Top Rated"}),Object(b.jsx)("li",{onClick:function(){U(1),u("https://api.themoviedb.org/3/movie/now_playing?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Y(),O("")},children:"Now Playing"}),Object(b.jsx)("li",{onClick:function(){U(1),u("https://api.themoviedb.org/3/movie/upcoming?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Y(),O("")},children:"Upcoming"})]})]}),Object(b.jsx)("input",{className:"search",type:"search",placeholder:"Search...",value:f,onChange:function(e){O(e.target.value)}})]}),Object(b.jsxs)("div",{className:"movieContainer",children:[c.length>0&&c.map((function(e){return Object(b.jsx)(j,Object(o.a)(Object(o.a)({},e),{},{setButtonPopup:T,setSearchTrailerId:w}),e.id)})),P&&x?Object(b.jsxs)(h,{trigger:P,setButtonPopup:T,children:[function(e){d.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/videos?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US")).then((function(e){for(var t=!0,c=0;c<e.data.results.length;c++)if("Teaser"===e.data.results[c].type){S(e.data.results[c].key),t=!1;break}!0===t&&S(e.data.results[0].key)})).catch((function(e){alert("TRAILER NOT FOUND","\n",e.message),T(!1)}))}(x),Object(b.jsx)("iframe",{title:Math.random(),className:"videoContainer",type:"text/html",height:"100%",width:"100%",src:"https://www.youtube.com/embed/".concat(k,"?autoplay=1&controls=1"),allow:"autoplay; encrypted-media;",frameBorder:"0",allowFullScreen:!0},x)]}):null,Object(b.jsxs)("div",{className:"nextAndPrevBtn",children:[Object(b.jsxs)("button",{onClick:z,children:["PREV PAGE ",f?M:I]}),Object(b.jsxs)("h2",{className:"visitorCounter",children:["Visitor: ",X]}),Object(b.jsxs)("button",{onClick:function(){f?f&&F((function(e){return e>=1?e+1:e=1})):U((function(e){return e>=1?e+1:e=1})),window.scrollTo(0,0)},children:["NEXT PAGE ",f?M:I]})]})]})]})};i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(p,{})}),document.getElementById("root"))},33:function(e,t,c){}},[[1361,1,2]]]);
//# sourceMappingURL=main.a7572ae7.chunk.js.map