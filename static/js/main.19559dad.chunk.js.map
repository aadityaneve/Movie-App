{"version":3,"sources":["components/Movie.js","components/VideoPopup.js","App.js","index.js"],"names":["Movie","vote","setSearchTrailerId","setButtonPopup","id","title","posterPath","poster_path","overview","voteAverage","vote_average","releaseDate","release_date","className","color","height","width","onClick","src","alt","placeholder","VideoPopup","props","trigger","children","App","useState","movies","setMovies","API","setAPI","searchQuery","setSearchQuery","searchTrailerId","trailerKey","setTrailerKey","buttonPopup","page","setPage","searchPage","setSearchPage","toggleNavItems","setToggleNavItems","window","innerWidth","innerHeight","visitorCount","setVisitorCount","getMovies","axios","get","then","response","data","results","length","handleDecrement","catch","error","alert","message","scrollTo","useEffect","searchMovies","prevPage","a","patch","e","console","log","visitor_count","onSubmit","preventDefault","setTimeout","style","display","type","value","onChange","event","target","map","movie","flag","i","key","getTrailer","allow","frameBorder","allowFullScreen","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.19559dad.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { VideocamSharp } from \"react-ionicons\";\r\n\r\nconst IMG_API = \"https://image.tmdb.org/t/p/w1280\";\r\n\r\nconst setVoteClass = (vote) => {\r\n    if (vote >= 8) {\r\n        return \"green\";\r\n    } else if (vote >= 6) {\r\n        return \"orange\";\r\n    } else {\r\n        return \"red\";\r\n    }\r\n};\r\n\r\nconst Movie = ({\r\n    setSearchTrailerId,\r\n    setButtonPopup,\r\n    id,\r\n    title,\r\n    poster_path: posterPath,\r\n    overview,\r\n    vote_average: voteAverage,\r\n    release_date: releaseDate,\r\n}) => (\r\n    <div className=\"movie\">\r\n        <div className=\"movieHeader\">\r\n            <VideocamSharp\r\n                className=\"getTrailer\"\r\n                color={\"#00000\"}\r\n                height=\"50px\"\r\n                width=\"50px\"\r\n                onClick={() => {\r\n                    setSearchTrailerId(id);\r\n                    setButtonPopup(true);\r\n                }}\r\n            />\r\n            <span className=\"releaseDate\">{releaseDate}</span>\r\n            <img\r\n                src={\r\n                    posterPath\r\n                        ? IMG_API + posterPath\r\n                        : \"https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1459&q=80\"\r\n                }\r\n                alt=\"title\"\r\n                placeholder={releaseDate}\r\n            />\r\n            <div className=\"movieInfo\">\r\n                <h3>{title}</h3>\r\n                <span className={`tag ${setVoteClass(voteAverage)}`}>\r\n                    {voteAverage}\r\n                </span>\r\n            </div>\r\n            <div>\r\n                <div className=\"movieOver\">\r\n                    <h2>Overview:</h2>\r\n                    <p>{overview}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default Movie;\r\n","import React from \"react\";\r\n\r\nfunction VideoPopup(props) {\r\n    return props.trigger ? (\r\n        <div className=\"videoPopup\">\r\n            <div className=\"videoPopupInner\">\r\n                <button\r\n                    className=\"videoPopupCloseBtn\"\r\n                    onClick={() => {\r\n                        props.setButtonPopup(false);\r\n                    }}\r\n                >\r\n                    <strong> X </strong>\r\n                </button>\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        \"\"\r\n    );\r\n}\r\n\r\nexport default VideoPopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Movie from \"./components/Movie\";\r\nimport VideoPopup from \"./components/VideoPopup\";\r\n\r\nconst FEATURED_API =\r\n    \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=14dc73a4bd1abf7c14d4209c112b4496&page=\";\r\nconst SEARCH_API =\r\n    \"https://api.themoviedb.org/3/search/movie?&api_key=14dc73a4bd1abf7c14d4209c112b4496&query=\";\r\nconst POPULAR_API =\r\n    \"https://api.themoviedb.org/3/movie/popular?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page=\";\r\nconst NOW_PLAYING =\r\n    \"https://api.themoviedb.org/3/movie/now_playing?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page=\";\r\nconst TOP_RATED_API =\r\n    \"https://api.themoviedb.org/3/movie/top_rated?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page=\";\r\nconst UPCOMING_API =\r\n    \"https://api.themoviedb.org/3/movie/upcoming?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page=\";\r\n\r\nfunction App() {\r\n    const [movies, setMovies] = useState([]);\r\n    const [API, setAPI] = useState(\r\n        \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=14dc73a4bd1abf7c14d4209c112b4496&page=\"\r\n    );\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n    const [searchTrailerId, setSearchTrailerId] = useState(\"\");\r\n    const [trailerKey, setTrailerKey] = useState(\"\");\r\n    const [buttonPopup, setButtonPopup] = useState(false);\r\n    const [page, setPage] = useState(1);\r\n    const [searchPage, setSearchPage] = useState(1);\r\n    const [toggleNavItems, setToggleNavItems] = useState(true);\r\n    const { innerWidth, innerHeight } = window;\r\n    const [visitorCount, setVisitorCount] = useState(null);\r\n\r\n    const getMovies = () => {\r\n        axios\r\n            .get(API + page)\r\n            .then((response) => {\r\n                setMovies(response.data.results);\r\n                if (response.data.results.length === 0) {\r\n                    // alert(\"No Movies Found.\");\r\n                    handleDecrement();\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                alert(error.message);\r\n            });\r\n        window.scrollTo(0, 0);\r\n    };\r\n\r\n    const searchMovies = (searchQuery) => {\r\n        axios\r\n            .get(SEARCH_API + searchQuery + \"&page=\" + searchPage)\r\n            .then((response) => {\r\n                setMovies(response.data.results);\r\n                if (response.data.results.length === 0) {\r\n                    // alert(\"No Movies Found.\");\r\n                    handleDecrement();\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                alert(error.message);\r\n            });\r\n        window.scrollTo(0, 0);\r\n    };\r\n\r\n    const getTrailer = (searchTrailerId) => {\r\n        axios\r\n            .get(\r\n                `https://api.themoviedb.org/3/movie/${searchTrailerId}/videos?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US`\r\n            )\r\n            .then((response) => {\r\n                let flag = true;\r\n                for (let i = 0; i < response.data.results.length; i++) {\r\n                    if (response.data.results[i].type === \"Teaser\") {\r\n                        setTrailerKey(response.data.results[i].key);\r\n                        flag = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (flag === true) {\r\n                    setTrailerKey(response.data.results[0].key);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                // alert(error.message);\r\n                alert(\"TRAILER NOT FOUND\" + \"\\n\" + error.message);\r\n                setButtonPopup(false);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getMovies();\r\n    }, [API, page]);\r\n\r\n    useEffect(() => {\r\n        if (searchQuery) {\r\n            searchMovies(searchQuery);\r\n        }\r\n    }, [searchQuery, searchPage]);\r\n\r\n    const handleOnChange = (event) => {\r\n        setSearchQuery(event.target.value);\r\n    };\r\n\r\n    const handleIncrement = () => {\r\n        if (!searchQuery) {\r\n            setPage((prevPage) =>\r\n                prevPage >= 1 ? prevPage + 1 : (prevPage = 1)\r\n            );\r\n        } else if (searchQuery) {\r\n            setSearchPage((prevPage) =>\r\n                prevPage >= 1 ? prevPage + 1 : (prevPage = 1)\r\n            );\r\n        }\r\n        window.scrollTo(0, 0);\r\n    };\r\n\r\n    const handleDecrement = () => {\r\n        if (!searchQuery) {\r\n            setPage((prevPage) =>\r\n                prevPage > 1 ? prevPage - 1 : (prevPage = 1)\r\n            );\r\n        } else if (searchQuery) {\r\n            setSearchPage((prevPage) =>\r\n                prevPage > 1 ? prevPage - 1 : (prevPage = 1)\r\n            );\r\n        }\r\n        window.scrollTo(0, 0);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (innerWidth >= 850) {\r\n            setToggleNavItems(true);\r\n        }\r\n        if (innerWidth < 850) {\r\n            setToggleNavItems(false);\r\n        }\r\n    }, [innerWidth]);\r\n\r\n    const toggleBurger = () => {\r\n        setToggleNavItems(true);\r\n        setTimeout(() => {\r\n            setToggleNavItems(false);\r\n            if (toggleNavItems) {\r\n            }\r\n        }, 4000);\r\n    };\r\n\r\n    useEffect(async () => {\r\n        await axios\r\n            .patch(\"https://shrouded-lowlands-25573.herokuapp.com/counter\")\r\n            .then((response) => {})\r\n            .catch((e) => {\r\n                console.log(\"Error: \", e.message);\r\n            });\r\n\r\n        await axios\r\n            .get(\"https://shrouded-lowlands-25573.herokuapp.com/counter\")\r\n            .then((response) => {\r\n                setVisitorCount(response.data.visitor_count);\r\n            })\r\n            .catch((e) => {\r\n                console.log(\"Error: \", e.message);\r\n            });\r\n    }, []);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <header>\r\n                <form onSubmit={handleSubmit} className=\"navForm\">\r\n                    <div onClick={toggleBurger} id=\"burger\" className=\"burger\">\r\n                        <div className=\"bar\"></div>\r\n                        <div className=\"bar\"></div>\r\n                        <div className=\"bar\"></div>\r\n                    </div>\r\n                    <ul\r\n                        style={\r\n                            toggleNavItems\r\n                                ? { display: \"flex\" }\r\n                                : { display: \"none\" }\r\n                        }\r\n                        className=\"navItems\"\r\n                    >\r\n                        <li\r\n                            onClick={() => {\r\n                                setPage(1);\r\n                                setAPI(POPULAR_API);\r\n                                getMovies();\r\n                                setSearchQuery(\"\");\r\n                            }}\r\n                        >\r\n                            Popular\r\n                        </li>\r\n                        <li\r\n                            onClick={() => {\r\n                                setPage(1);\r\n                                setAPI(TOP_RATED_API);\r\n                                getMovies();\r\n                                setSearchQuery(\"\");\r\n                            }}\r\n                        >\r\n                            Top Rated\r\n                        </li>\r\n                        <li\r\n                            onClick={() => {\r\n                                setPage(1);\r\n                                setAPI(NOW_PLAYING);\r\n                                getMovies();\r\n                                setSearchQuery(\"\");\r\n                            }}\r\n                        >\r\n                            Now Playing\r\n                        </li>\r\n                        <li\r\n                            onClick={() => {\r\n                                setPage(1);\r\n                                setAPI(UPCOMING_API);\r\n                                getMovies();\r\n                                setSearchQuery(\"\");\r\n                            }}\r\n                        >\r\n                            Upcoming\r\n                        </li>\r\n                    </ul>\r\n                </form>\r\n                <input\r\n                    className=\"search\"\r\n                    type=\"search\"\r\n                    placeholder=\"Search...\"\r\n                    value={searchQuery}\r\n                    onChange={handleOnChange}\r\n                />\r\n            </header>\r\n            <div className=\"movieContainer\">\r\n                {movies.length > 0 &&\r\n                    movies.map((movie) => (\r\n                        <Movie\r\n                            key={movie.id}\r\n                            {...movie}\r\n                            setButtonPopup={setButtonPopup}\r\n                            setSearchTrailerId={setSearchTrailerId}\r\n                        />\r\n                    ))}\r\n\r\n                {buttonPopup && searchTrailerId ? (\r\n                    <VideoPopup\r\n                        trigger={buttonPopup}\r\n                        setButtonPopup={setButtonPopup}\r\n                    >\r\n                        {getTrailer(searchTrailerId)}\r\n                        <iframe\r\n                            key={searchTrailerId}\r\n                            className=\"videoContainer\"\r\n                            type=\"text/html\"\r\n                            height=\"100%\"\r\n                            width=\"100%\"\r\n                            src={`https://www.youtube.com/embed/${trailerKey}?autoplay=1&controls=1`}\r\n                            allow=\"autoplay; encrypted-media;\"\r\n                            frameBorder=\"0\"\r\n                            allowFullScreen\r\n                        ></iframe>\r\n                    </VideoPopup>\r\n                ) : null}\r\n                <div className=\"nextAndPrevBtn\">\r\n                    <button onClick={handleDecrement}>\r\n                        PREV PAGE {searchQuery ? searchPage : page}\r\n                    </button>\r\n                    <h2 className=\"visitorCounter\">Visitor: {visitorCount}</h2>\r\n                    <button onClick={handleIncrement}>\r\n                        NEXT PAGE {searchQuery ? searchPage : page}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}