(this["webpackJsonpmovies-app-react"]=this["webpackJsonpmovies-app-react"]||[]).push([[0],{1364:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),s=c(25),i=c.n(s),o=(c(35),c(14)),r=c(11),l=c.n(r),d=c(26),u=c(6),b=c(7),j=c.n(b),h=c(27),p=c(4),m=function(e){var t,c=e.setSearchTrailerId,a=e.setButtonPopup,n=e.id,s=e.title,i=e.poster_path,o=e.overview,r=e.vote_average,l=e.release_date;return Object(p.jsx)("div",{className:"movie",children:Object(p.jsxs)("div",{className:"movieHeader",children:[Object(p.jsx)(h.VideocamSharp,{className:"getTrailer",color:"#00000",height:"50px",width:"50px",onClick:function(){c(n),a(!0)}}),Object(p.jsx)("span",{className:"releaseDate",children:l}),Object(p.jsx)("img",{src:i?"https://image.tmdb.org/t/p/w1280"+i:"https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1459&q=80",alt:"title",placeholder:l}),Object(p.jsxs)("div",{className:"movieInfo",children:[Object(p.jsx)("h3",{children:s}),Object(p.jsx)("span",{className:"tag ".concat((t=r,t>=8?"green":t>=6?"orange":"red")),children:r})]}),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"movieOver",children:[Object(p.jsx)("h2",{children:"Overview:"}),Object(p.jsx)("p",{children:o})]})})]})})};var f=function(e){return e.trigger?Object(p.jsx)("div",{className:"videoPopup",children:Object(p.jsxs)("div",{className:"videoPopupInner",children:[Object(p.jsx)("button",{className:"videoPopupCloseBtn",onClick:function(){e.setButtonPopup(!1)},children:Object(p.jsx)("strong",{children:" X "})}),e.children]})}):""};var O=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=14dc73a4bd1abf7c14d4209c112b4496&page="),i=Object(u.a)(s,2),r=i[0],b=i[1],h=Object(a.useState)(""),O=Object(u.a)(h,2),g=O[0],v=O[1],x=Object(a.useState)(""),w=Object(u.a)(x,2),y=w[0],N=w[1],k=Object(a.useState)(""),S=Object(u.a)(k,2),C=S[0],_=S[1],P=Object(a.useState)(!1),T=Object(u.a)(P,2),E=T[0],B=T[1],I=Object(a.useState)(1),U=Object(u.a)(I,2),A=U[0],D=U[1],H=Object(a.useState)(1),F=Object(u.a)(H,2),G=F[0],M=F[1],R=Object(a.useState)(!0),V=Object(u.a)(R,2),q=V[0],J=V[1],W=window,X=W.innerWidth,L=(W.innerHeight,Object(a.useState)()),Y=Object(u.a)(L,2),z=Y[0],K=Y[1],Q=function(){j.a.get(r+A).then((function(e){n(e.data.results),0===e.data.results.length&&Z()})).catch((function(e){alert(e.message)})),window.scrollTo(0,0)};Object(a.useEffect)((function(){Q()}),[r,A]),Object(a.useEffect)((function(){g&&function(e){j.a.get("https://api.themoviedb.org/3/search/movie?&api_key=14dc73a4bd1abf7c14d4209c112b4496&query="+e+"&page="+G).then((function(e){n(e.data.results),0===e.data.results.length&&Z()})).catch((function(e){alert(e.message)})),window.scrollTo(0,0)}(g)}),[g,G]);var Z=function(){g?g&&M((function(e){return e>1?e-1:e=1})):D((function(e){return e>1?e-1:e=1})),window.scrollTo(0,0)};return Object(a.useEffect)((function(){X>=850&&J(!0),X<850&&J(!1)}),[X]),Object(a.useEffect)(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.patch("https://shrouded-lowlands-25573.herokuapp.com/counter").then((function(e){})).catch((function(e){console.log("Error: ",e.message)}));case 2:return e.next=4,j.a.get("https://shrouded-lowlands-25573.herokuapp.com/counter").then((function(e){K(e.data.visitor_count)})).catch((function(e){console.log("Error: ",e.message)}));case 4:case"end":return e.stop()}}),e)}))),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("header",{children:[Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault()},className:"navForm",children:[Object(p.jsxs)("div",{onClick:function(){J(!0),setTimeout((function(){J(!1)}),4e3)},id:"burger",className:"burger",children:[Object(p.jsx)("div",{className:"bar"}),Object(p.jsx)("div",{className:"bar"}),Object(p.jsx)("div",{className:"bar"})]}),Object(p.jsxs)("ul",{style:q?{display:"flex"}:{display:"none"},className:"navItems",children:[Object(p.jsx)("li",{onClick:function(){D(1),b("https://api.themoviedb.org/3/movie/popular?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Q(),v("")},children:"Popular"}),Object(p.jsx)("li",{onClick:function(){D(1),b("https://api.themoviedb.org/3/movie/top_rated?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Q(),v("")},children:"Top Rated"}),Object(p.jsx)("li",{onClick:function(){D(1),b("https://api.themoviedb.org/3/movie/now_playing?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Q(),v("")},children:"Now Playing"}),Object(p.jsx)("li",{onClick:function(){D(1),b("https://api.themoviedb.org/3/movie/upcoming?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Q(),v("")},children:"Upcoming"})]})]}),Object(p.jsx)("input",{className:"search",type:"search",placeholder:"Search...",value:g,onChange:function(e){v(e.target.value)}})]}),Object(p.jsxs)("div",{className:"movieContainer",children:[c.length>0&&c.map((function(e){return Object(p.jsx)(m,Object(o.a)(Object(o.a)({},e),{},{setButtonPopup:B,setSearchTrailerId:N}),e.id)})),E&&y?Object(p.jsxs)(f,{trigger:E,setButtonPopup:B,children:[function(e){j.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/videos?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US")).then((function(e){for(var t=!0,c=0;c<e.data.results.length;c++)if("Teaser"===e.data.results[c].type){_(e.data.results[c].key),t=!1;break}!0===t&&_(e.data.results[0].key)})).catch((function(e){alert("TRAILER NOT FOUND\n"+e.message),B(!1)}))}(y),Object(p.jsx)("iframe",{className:"videoContainer",type:"text/html",height:"100%",width:"100%",src:"https://www.youtube.com/embed/".concat(C,"?autoplay=1&controls=1"),allow:"autoplay; encrypted-media;",frameBorder:"0",allowFullScreen:!0},y)]}):null,Object(p.jsxs)("div",{className:"nextAndPrevBtn",children:[Object(p.jsxs)("button",{onClick:Z,children:["PREV PAGE ",g?G:A]}),Object(p.jsxs)("h2",{className:"visitorCounter",children:["Visitor: ",z]}),Object(p.jsxs)("button",{onClick:function(){g?g&&M((function(e){return e>=1?e+1:e=1})):D((function(e){return e>=1?e+1:e=1})),window.scrollTo(0,0)},children:["NEXT PAGE ",g?G:A]})]})]})]})};i.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(O,{})}),document.getElementById("root"))},35:function(e,t,c){}},[[1364,1,2]]]);
//# sourceMappingURL=main.2fb371ac.chunk.js.map