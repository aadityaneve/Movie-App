(this["webpackJsonpmovies-app-react"]=this["webpackJsonpmovies-app-react"]||[]).push([[0],{1364:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),r=c(26),s=c.n(r),i=(c(35),c(15)),o=c(7),l=c.n(o),u=c(9),d=c(6),b=c(8),j=c.n(b),p=c(27),h=c(4),f=function(e){var t,c=e.setSearchTrailerId,a=e.setButtonPopup,n=e.id,r=e.title,s=e.poster_path,i=e.overview,o=e.vote_average,l=e.release_date;return Object(h.jsx)("div",{className:"movie",children:Object(h.jsxs)("div",{className:"movieHeader",children:[Object(h.jsx)(p.VideocamSharp,{className:"getTrailer",color:"#00000",height:"50px",width:"50px",onClick:function(){c(n),a(!0)}}),Object(h.jsx)("span",{className:"releaseDate",children:l}),Object(h.jsx)("img",{src:s?"https://image.tmdb.org/t/p/w1280"+s:"https://images.unsplash.com/photo-1485846234645-a62644f84728?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1459&q=80",alt:"title",placeholder:l}),Object(h.jsxs)("div",{className:"movieInfo",children:[Object(h.jsx)("h3",{children:r}),Object(h.jsx)("span",{className:"tag ".concat((t=o,t>=8?"green":t>=6?"orange":"red")),children:o})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"movieOver",children:[Object(h.jsx)("h2",{children:"Overview:"}),Object(h.jsx)("p",{children:i})]})})]})})};var O=function(e){return e.trigger?Object(h.jsx)("div",{className:"videoPopup",children:Object(h.jsxs)("div",{className:"videoPopupInner",children:[Object(h.jsx)("button",{className:"videoPopupCloseBtn",onClick:function(){e.setButtonPopup(!1)},children:Object(h.jsx)("strong",{children:" X "})}),e.children]})}):""};var m=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=14dc73a4bd1abf7c14d4209c112b4496&page="),s=Object(d.a)(r,2),o=s[0],b=s[1],p=Object(a.useState)(""),m=Object(d.a)(p,2),v=m[0],g=m[1],x=Object(a.useState)(""),w=Object(d.a)(x,2),y=w[0],k=w[1],N=Object(a.useState)(""),S=Object(d.a)(N,2),_=S[0],C=S[1],P=Object(a.useState)(!1),T=Object(d.a)(P,2),E=T[0],B=T[1],I=Object(a.useState)(1),U=Object(d.a)(I,2),A=U[0],H=U[1],D=Object(a.useState)(1),F=Object(d.a)(D,2),G=F[0],M=F[1],R=Object(a.useState)(!0),V=Object(d.a)(R,2),q=V[0],J=V[1],W=window,X=W.innerWidth,L=(W.innerHeight,Object(a.useState)(1)),Y=Object(d.a)(L,2),z=Y[0],K=Y[1],Q=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(o+A).then((function(e){n(e.data.results),0===e.data.results.length&&ee()})).catch((function(e){alert(e.message)}));case 2:window.scrollTo(0,0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.themoviedb.org/3/search/movie?&api_key=14dc73a4bd1abf7c14d4209c112b4496&query="+t+"&page="+G).then((function(e){n(e.data.results),0===e.data.results.length&&ee()})).catch((function(e){alert(e.message)}));case 2:window.scrollTo(0,0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/videos?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US")).then((function(e){for(var t=!0,c=0;c<e.data.results.length;c++)if("Teaser"===e.data.results[c].type){C(e.data.results[c].key),t=!1;break}!0===t&&C(e.data.results[0].key)})).catch((function(e){alert("TRAILER NOT FOUND\n"+e.message),B(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Q()}),[o,A]),Object(a.useEffect)((function(){v&&Z(v)}),[v,G]);var ee=function(){v?v&&M((function(e){return e>1?e-1:e=1})):H((function(e){return e>1?e-1:e=1})),window.scrollTo(0,0)};return Object(a.useEffect)((function(){X>=850&&J(!0),X<850&&J(!1)}),[X]),Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.patch("http://localhost:3001/counter").then((function(e){})).catch((function(e){console.log("Error: ",e.error)}));case 2:return e.next=4,j.a.get("http://localhost:3001/counter").then((function(e){K(e.data.visitor_count)})).catch((function(e){console.log("Error: ",e.error)}));case 4:case"end":return e.stop()}}),e)}))),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("header",{children:[Object(h.jsxs)("form",{className:"navForm",children:[Object(h.jsxs)("div",{onClick:function(){J(!0),setTimeout((function(){J(!1)}),4e3)},id:"burger",className:"burger",children:[Object(h.jsx)("div",{className:"bar"}),Object(h.jsx)("div",{className:"bar"}),Object(h.jsx)("div",{className:"bar"})]}),Object(h.jsxs)("ul",{style:q?{display:"flex"}:{display:"none"},className:"navItems",children:[Object(h.jsx)("li",{onClick:function(){H(1),b("https://api.themoviedb.org/3/movie/popular?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Q(),g("")},children:"Popular"}),Object(h.jsx)("li",{onClick:function(){H(1),b("https://api.themoviedb.org/3/movie/top_rated?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Q(),g("")},children:"Top Rated"}),Object(h.jsx)("li",{onClick:function(){H(1),b("https://api.themoviedb.org/3/movie/now_playing?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Q(),g("")},children:"Now Playing"}),Object(h.jsx)("li",{onClick:function(){H(1),b("https://api.themoviedb.org/3/movie/upcoming?api_key=14dc73a4bd1abf7c14d4209c112b4496&language=en-US&page="),Q(),g("")},children:"Upcoming"})]})]}),Object(h.jsx)("input",{className:"search",type:"search",placeholder:"Search...",value:v,onChange:function(e){g(e.target.value)}})]}),Object(h.jsxs)("div",{className:"movieContainer",children:[c.length>0&&c.map((function(e){return Object(h.jsx)(f,Object(i.a)(Object(i.a)({},e),{},{setButtonPopup:B,setSearchTrailerId:k}),e.id)})),E&&y?Object(h.jsxs)(O,{trigger:E,setButtonPopup:B,children:[$(y),Object(h.jsx)("iframe",{className:"videoContainer",type:"text/html",height:"100%",width:"100%",src:"https://www.youtube.com/embed/".concat(_,"?autoplay=1&controls=1"),allow:"autoplay; encrypted-media;",frameBorder:"0",allowFullScreen:!0},y)]}):null,Object(h.jsxs)("div",{className:"nextAndPrevBtn",children:[Object(h.jsxs)("button",{onClick:ee,children:["PREV PAGE ",v?G:A]}),Object(h.jsxs)("h2",{children:["Visitor: ",z]}),Object(h.jsxs)("button",{onClick:function(){v?v&&M((function(e){return e>=1?e+1:e=1})):H((function(e){return e>=1?e+1:e=1})),window.scrollTo(0,0)},children:["NEXT PAGE ",v?G:A]})]})]})]})};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root"))},35:function(e,t,c){}},[[1364,1,2]]]);
//# sourceMappingURL=main.c25f812b.chunk.js.map